{"version":3,"sources":["../src/gitFilterRepo.ts"],"names":["Git","GitDate","Pip","Socket","gitDate","GitFilterRepo","gitPath","process","cwd","options","git","pip","pipe","previousPath","chdir","installed","install","user","filterRepo","help","execaErr","stderr","indexOf","callback","blob","pythonCommit","commitToPythonCommit","pythonCommitToCommit","tag","reset","filename","message","name","email","refname","ensure","socket","connect","force","result","close","Operator","authorDate","dateFromGitDate","author_date","authorEmail","author_email","authorName","author_name","branch","committerDate","committer_date","committerEmail","committer_email","committerName","committer_name","dumped","id","oldId","old_id","originalId","original_id","type","commit","gitDateFromDate"],"mappings":"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","sourcesContent":["/**\n * Copyright 2021 Silicon Hills LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DateArr } from 'kiss-date';\nimport { ExecaError } from 'execa';\nimport Git, { GitFilterRepoOptions } from './git';\nimport GitDate from './gitDate';\nimport Pip from './pip';\nimport Socket from './socket';\nimport { Options } from './types';\n\nconst gitDate = new GitDate();\n\nexport default class GitFilterRepo {\n  private git: Git;\n\n  private pip: Pip;\n\n  private options: Options;\n\n  constructor(public gitPath = process.cwd(), options: Partial<Options>) {\n    this.options = {\n      pipe: true,\n      ...options\n    };\n    this.git = new Git(gitPath);\n    this.pip = new Pip(gitPath);\n  }\n\n  async ensure(): Promise<any> {\n    const previousPath = this.gitPath;\n    process.chdir(this.gitPath);\n    if (!(await this.installed())) {\n      await this.pip.install('git-filter-repo', {\n        user: true,\n        pipe: this.options.pipe\n      });\n    }\n    process.chdir(previousPath);\n  }\n\n  async installed(): Promise<boolean> {\n    try {\n      await this.git.filterRepo({ help: true, pipe: this.options.pipe });\n      return true;\n    } catch (err) {\n      const execaErr: ExecaError = err;\n      if (execaErr.stderr?.indexOf('is not a git command') > -1) {\n        return false;\n      }\n      throw err;\n    }\n  }\n\n  async blobCallback(\n    callback: (blob: Blob) => Blob | Promise<Blob>,\n    options: Partial<FilterBlobCallbackOptions> = {}\n  ) {\n    return this.callback('blob', options, async (blob: Blob) => {\n      return callback(blob);\n    });\n  }\n\n  async commitCallback(\n    callback: (commit: Commit) => Commit | Promise<Commit>,\n    options: Partial<FilterCommitCallbackOptions> = {}\n  ) {\n    return this.callback(\n      'commit',\n      options,\n      async (pythonCommit: PythonCommit) => {\n        return commitToPythonCommit(\n          await callback(pythonCommitToCommit(pythonCommit))\n        );\n      }\n    );\n  }\n\n  async tagCallback(\n    callback: (tag: Tag) => Tag | Promise<Tag>,\n    options: Partial<FilterTagCallbackOptions> = {}\n  ) {\n    return this.callback('tag', options, (tag: Tag) => {\n      return callback(tag);\n    });\n  }\n\n  async resetCallback(\n    callback: (reset: Reset) => Reset | Promise<Reset>,\n    options: Partial<FilterResetCallbackOptions> = {}\n  ) {\n    return this.callback('reset', options, async (reset: Reset) => {\n      return callback(reset);\n    });\n  }\n\n  async filenameCallback(\n    callback: (filename: Filename) => Filename | Promise<Filename>,\n    options: Partial<FilterFilenameCallbackOptions> = {}\n  ) {\n    return this.callback('filename', options, async (filename: Filename) => {\n      return callback(filename);\n    });\n  }\n\n  async messageCallback(\n    callback: (message: Message) => Message | Promise<Message>,\n    options: Partial<FilterMessageCallbackOptions> = {}\n  ) {\n    return this.callback('message', options, async (message: Message) => {\n      return callback(message);\n    });\n  }\n\n  async nameCallback(\n    callback: (name: Name) => Name | Promise<Name>,\n    options: Partial<FilterNameCallbackOptions> = {}\n  ) {\n    return this.callback('name', options, async (name: Name) => {\n      return callback(name);\n    });\n  }\n\n  async emailCallback(\n    callback: (email: Email) => Email | Promise<Email>,\n    options: Partial<FilterEmailCallbackOptions> = {}\n  ) {\n    return this.callback('email', options, async (email: Email) => {\n      return callback(email);\n    });\n  }\n\n  async refnameCallback(\n    callback: (refname: Refname) => Refname | Promise<Refname>,\n    options: Partial<FilterRefnameCallbackOptions> = {}\n  ) {\n    return this.callback('refname', options, async (refname: Refname) => {\n      return callback(refname);\n    });\n  }\n\n  async callback(\n    name: string,\n    options: Partial<GitFilterRepoOptions> = {},\n    callback: (...args: any[]) => any = () => null\n  ) {\n    await this.ensure();\n    const socket = new Socket('captain_hook', {\n      [`${name}Callback`]: callback\n    });\n    await socket.connect();\n    const result = await this.git.filterRepo({\n      force: true,\n      ...options,\n      [`${name}Callback`]: `return callbacks.callback('${name}', ${name})`,\n      pipe: this.options.pipe,\n      importScripts: ['callbacks']\n    });\n    await socket.close();\n    return result;\n  }\n\n  async help(options: Partial<FilterRepoHelpOptions> = {}) {\n    return this.git.filterRepo({\n      ...options,\n      help: true,\n      pipe: this.options.pipe\n    });\n  }\n}\n\nexport interface FilterRepoHelpOptions\n  extends Omit<GitFilterRepoOptions, 'help'> {}\n\nexport interface FilterBlobCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'blobCallback' | 'pipe'> {}\n\nexport interface FilterCommitCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'commitCallback' | 'pipe'> {}\n\nexport interface FilterTagCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'tagCallback' | 'pipe'> {}\n\nexport interface FilterResetCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'resetCallback' | 'pipe'> {}\n\nexport interface FilterFilenameCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'filenameCallback' | 'pipe'> {}\n\nexport interface FilterMessageCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'messageCallback' | 'pipe'> {}\n\nexport interface FilterNameCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'nameCallback' | 'pipe'> {}\n\nexport interface FilterEmailCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'emailCallback' | 'pipe'> {}\n\nexport interface FilterRefnameCallbackOptions\n  extends Omit<GitFilterRepoOptions, 'refnameCallback' | 'pipe'> {}\n\nexport enum Operator {\n  Equal = '=',\n  GreaterThan = '>',\n  GreaterThanOrEqual = '>=',\n  LessThan = '<',\n  LessThanOrEqual = '<=',\n  NotEqual = '!='\n}\n\nexport interface PythonCommit {\n  author_date: string;\n  author_email: string;\n  author_name: string;\n  branch: string;\n  committer_date: string;\n  committer_email: string;\n  committer_name: string;\n  dumped: number;\n  id: number;\n  message: string;\n  old_id: number;\n  original_id: string;\n  type: string;\n}\n\nexport type Blob = any;\n\nexport type Name = string;\n\nexport type Filename = string;\n\nexport type Tag = string;\n\nexport type Email = string;\n\nexport type Message = string;\n\nexport type Reset = any;\n\nexport type Refname = any;\n\nexport interface Commit {\n  authorDate: DateArr;\n  authorEmail: string;\n  authorName: string;\n  branch: string;\n  committerDate: DateArr;\n  committerEmail: string;\n  committerName: string;\n  dumped: number;\n  id: number;\n  message: string;\n  oldId: number;\n  originalId: string;\n  type: string;\n}\n\nexport function pythonCommitToCommit(pythonCommit: PythonCommit): Commit {\n  return {\n    authorDate: gitDate.dateFromGitDate(pythonCommit.author_date),\n    authorEmail: pythonCommit.author_email,\n    authorName: pythonCommit.author_name,\n    branch: pythonCommit.branch,\n    committerDate: gitDate.dateFromGitDate(pythonCommit.committer_date),\n    committerEmail: pythonCommit.committer_email,\n    committerName: pythonCommit.committer_name,\n    dumped: pythonCommit.dumped,\n    id: pythonCommit.id,\n    message: pythonCommit.message,\n    oldId: pythonCommit.old_id,\n    originalId: pythonCommit.original_id,\n    type: pythonCommit.type\n  };\n}\n\nexport function commitToPythonCommit(commit: Commit): PythonCommit {\n  return {\n    author_date: gitDate.gitDateFromDate(commit.authorDate),\n    author_email: commit.authorEmail,\n    author_name: commit.authorName,\n    branch: commit.branch,\n    committer_date: gitDate.gitDateFromDate(commit.committerDate),\n    committer_email: commit.committerEmail,\n    committer_name: commit.committerName,\n    dumped: commit.dumped,\n    id: commit.id,\n    message: commit.message,\n    old_id: commit.oldId,\n    original_id: commit.originalId,\n    type: commit.type\n  };\n}\n"],"file":"gitFilterRepo.js"}